# Order Service API

A simple RESTful Order Service built with **Go**, **Chi Router**, and **Redis**.
This project demonstrates a basic CRUD microservice architecture with environment-based configuration.

---

## Features

- RESTful CRUD endpoints for Orders
- Redis as data store
- Environment-based configuration
- Graceful shutdown
- Simple cursor-based pagination (WIP)

---

## Tech Stack

- Go
- Chi (github.com/go-chi/chi)
- Redis (go-redis/v9)
- Docker (for Redis)

---

## Requirements

- Go 1.21+
- Docker & Docker Desktop
- Redis (via Docker)

---

## Running Redis

Start Redis using Docker:

```bash
docker run -d --name redis -p 6379:6379 redis:latest
```

Verify Redis is running:

```bash
docker exec -it redis redis-cli ping
```

Expected output:

```text
PONG
```

---

## Configuration

The application uses environment variables for configuration.

| Variable    | Description      | Default        |
| ----------- | ---------------- | -------------- |
| SERVER_PORT | HTTP server port | 3000           |
| REDIS_ADDR  | Redis address    | localhost:6379 |

---

## Running the Application

### macOS / Linux / Git Bash (Windows)

```bash
SERVER_PORT=3000 go run main.go
```

### Windows PowerShell

```powershell
$env:SERVER_PORT=3000
go run main.go
```

Application will start at:

http://localhost:3000

---

## API Endpoints

Base URL:
http://localhost:3000

---

### Create Order

POST /orders

Headers:
Content-Type: application/json

Body:

```json
{
  "customer_id": "550e8400-e29b-41d4-a716-446655440000",
  "line_items": [
    {
      "item_id": "c1f4e9d2-0a6f-4d4e-9b5e-8d9e1c5fbc21",
      "quantity": 5,
      "price": 1999
    }
  ]
}
```

---

### Get All Orders

GET /orders?cursor=10

---

### Get Order By ID

GET /orders/{id}

Example:
orders/12218349957311340894

---

### Update Order By ID

PUT /orders/{id}

Body:

```json
{
  "status": "shipped"
}
```

OR

```json
{
  "status": "completed"
}
```

---

### Delete Order By ID

DELETE /orders/{id}

---

## Notes

- Order IDs are generated by the server
- UUID values must be valid RFC 4122 strings
- Redis is required for the service to function
- This project is intended for learning and experimentation

---

## License

MIT
